# 快打旋風輸入練習器

> 練習 Street Fighter 出招用的網頁工具。支援鍵盤、Hitbox、SOCD 中立、Gamepad，顯示輸入紀錄和判定結果。  

---

## 功能特色

- **多種輸入方式**  
  - 鍵盤：方向鍵 / WASD，空白鍵也能當「上」  
  - 出招鍵：Punch = J/K/L，Kick = M / , / .（含 `<`、`>`）  
  - 搖桿：支援第一個 Gamepad，讀取方向與按鈕  

- **方向切換**：鏡像輸入  
- **SOCD**：同時按上下/左右 → 自動回中   
- **輸入/判定紀錄**  
  - 顯示最近 2.5 秒的方向輸入  
  - 成功 / 失敗次數 + 成功率  
  - 每次出招的判定結果  
  - 上一筆判定常駐顯示  

---

## 操作方式

- **方向輸入**：方向鍵 / WASD / 空白鍵  
- **出招鍵**：Punch = J/K/L，Kick = M / , / .  
- **搖桿模式**：勾選「使用搖桿」即可  
- **重置**：點「重置統計」清空資料（保留上一筆判定）

---

## 技術架構

```
/ (root)
├─ index.html             # 頁面與 UI
├─ styles.css             # 介面樣式
├─ config.js              # 常數與 DOM
├─ moves.js               # 招式資料與方向鏡像
├─ socd.js                # SOCD 規則
├─ state.js               # 輸入緩衝 & 統計
├─ judge.js               # 判定邏輯（精確比對 + 容錯判定）
├─ ui.js                  # Stick 高亮、LOG、統計顯示
├─ input_keyboard.js      # 鍵盤輸入
├─ input_gamepad.js       # Gamepad 輸入
├─ reaction.js            # 反應模式邏輯（隨機出題、倒數計時、答題判定）
├─ main.js                # 入口組裝
├─ manifest.json          # 專案檔案清單（自動產生）
└─ manifest_reaction.json # 反應模式專用清單（自動產生）
```

---

## 出招判定規則

- **時間限制**  
  - 每一步之間 ≤ 160ms  
  - 整套招式 ≤ 430ms  
  - 完成後 ≤ 120ms 內按出招鍵才算成功  

- **判定方式**  
  - **精確比對**：必須按照正確方向輸入順序  
  - **容錯比對**：Hitbox按法也會算成功，例如：  
    - 昇龍拳：623P or 622P、266P、628P  

---

---

## 更新紀錄

- **2025-09-09**  
  - 初版（三檔拆分）  
  - 新增容錯判定（622/266/628）  
  - 加入 LOG 與上一筆判定顯示  

- **2025-09-10**  
  - 拳 / 腳分開（不再共用鍵）  
  - 新增方向輸入 LOG  

- **2025-09-12**  
  - 修正 WASD 大小寫問題  
  - 加入「模式選單」：預設自由模式
  - 新增反應模式
  - 隨機招式＋隨機面向
  - 倒數條
  - 題數/難度設定

---

## TODO

- 集中角色技能資料  
- 加入迷你龍/肯 GIF  

